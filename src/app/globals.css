@import "tailwindcss";

/**
 * Theme System CSS Variables
 * 
 * This file defines CSS custom properties for the theme system.
 * All colors are defined in HSL format without the hsl() wrapper for Tailwind compatibility.
 * 
 * Usage in components:
 * - Use Tailwind classes: bg-background, text-foreground, border-border, etc.
 * - Use in custom CSS: background-color: hsl(var(--background));
 * 
 * Color Format: H S% L% (Hue Saturation Lightness)
 * Example: 270 30% 8% = Purple hue, 30% saturation, 8% lightness
 */

:root {
  /* 
   * Core theme variables - Light Theme
   * These are the primary colors used throughout the application
   */
  --background: 0 0% 100%;           /* Main page background - white */
  --foreground: 0 0% 3.9%;           /* Main text color - near black */
  --card: 0 0% 100%;                 /* Card/panel backgrounds - white */
  --card-foreground: 0 0% 3.9%;     /* Text on cards - near black */
  --popover: 0 0% 100%;              /* Dropdown/popover backgrounds - white */
  --popover-foreground: 0 0% 3.9%;  /* Text in popovers - near black */
  --primary: 0 0% 9%;                /* Primary action color - dark gray */
  --primary-foreground: 0 0% 98%;   /* Text on primary buttons - near white */
  --secondary: 0 0% 96.1%;           /* Secondary elements - light gray */
  --secondary-foreground: 0 0% 9%;  /* Text on secondary elements - dark gray */
  --muted: 0 0% 96.1%;               /* Muted/disabled backgrounds - light gray */
  --muted-foreground: 0 0% 45.1%;   /* Muted/disabled text - medium gray */
  --accent: 0 0% 96.1%;              /* Accent/hover backgrounds - light gray */
  --accent-foreground: 0 0% 9%;     /* Text on accent elements - dark gray */
  --destructive: 0 84.2% 60.2%;     /* Error/destructive actions - red */
  --destructive-foreground: 0 0% 98%; /* Text on destructive buttons - near white */
  --border: 0 0% 89.8%;              /* Border color - light gray */
  --input: 0 0% 89.8%;               /* Input border color - light gray */
  --ring: 0 0% 3.9%;                 /* Focus ring color - near black */
  --radius: 0.5rem;                  /* Border radius for rounded elements */

  /* Extended color palette - Slate scale */
  --slate-50: 210 40% 98%;
  --slate-100: 210 40% 96.1%;
  --slate-200: 214 32% 91%;
  --slate-300: 213 27% 84%;
  --slate-400: 215 20% 65%;
  --slate-500: 215 16% 47%;
  --slate-600: 215 16% 47%;
  --slate-700: 215 19% 35%;
  --slate-800: 217 19% 27%;
  --slate-900: 222 47% 11%;

  /* Extended color palette - Gray scale */
  --gray-50: 0 0% 98%;
  --gray-100: 0 0% 96.1%;
  --gray-200: 0 0% 89.8%;
  --gray-300: 0 0% 83.1%;
  --gray-400: 0 0% 63.9%;
  --gray-500: 0 0% 45.1%;
  --gray-600: 0 0% 32.2%;
  --gray-700: 0 0% 25.1%;
  --gray-800: 0 0% 14.9%;
  --gray-900: 0 0% 9%;

  /* Semantic colors - Blue */
  --blue-500: 217 91% 60%;
  --blue-600: 221 83% 53%;

  /* Semantic colors - Green */
  --green-50: 138 76% 97%;
  --green-100: 141 84% 93%;
  --green-500: 142 71% 45%;
  --green-600: 142 76% 36%;
  --green-800: 143 64% 24%;

  /* Semantic colors - Red */
  --red-50: 0 86% 97%;
  --red-400: 0 91% 71%;
  --red-500: 0 84% 60%;
  --red-600: 0 72% 51%;

  /* Semantic colors - Yellow */
  --yellow-100: 48 96% 89%;
  --yellow-500: 45 93% 47%;

  /* Gradient colors */
  --gradient-from: 210 40% 98%;
  --gradient-to: 210 40% 96.1%;
}

.halloween {
  /* Core theme variables - Dark theme: Pure black to dark gray gradient with purple accents */
  --background: 0 0% 5%;             /* Near pure black background */
  --foreground: 270 15% 95%;         /* Light purple-tinted white for main text */
  --card: 270 15% 10%;               /* Very dark gray with purple tint for cards */
  --card-foreground: 270 15% 95%;    /* Light purple-tinted text on cards */
  --popover: 270 15% 10%;            /* Very dark gray with purple tint for popovers */
  --popover-foreground: 270 15% 95%; /* Light purple-tinted text in popovers */
  --primary: 270 70% 60%;            /* Vibrant purple for primary actions */
  --primary-foreground: 0 0% 100%;   /* Pure white text on purple */
  --secondary: 270 50% 40%;          /* Medium purple for secondary elements */
  --secondary-foreground: 270 10% 98%; /* Light purple-tinted text on secondary */
  --muted: 270 10% 15%;              /* Muted dark gray with purple hint */
  --muted-foreground: 270 10% 70%;   /* Light purple-gray for muted text */
  --accent: 270 70% 55%;             /* Purple accent for hover states */
  --accent-foreground: 0 0% 100%;    /* White text on accent */
  --destructive: 0 70% 55%;          /* Red for destructive actions */
  --destructive-foreground: 0 0% 98%; /* White text on destructive */
  --border: 270 40% 35%;             /* Purple borders for decorative styling */
  --input: 270 15% 15%;              /* Dark gray with purple tint for inputs */
  --ring: 270 70% 60%;               /* Purple focus rings */

  /* Extended color palette - Slate scale (purple-tinted dark grays) */
  --slate-50: 270 15% 95%;
  --slate-100: 270 15% 90%;
  --slate-200: 270 15% 80%;
  --slate-300: 270 15% 65%;
  --slate-400: 270 15% 50%;
  --slate-500: 270 15% 35%;
  --slate-600: 270 15% 25%;
  --slate-700: 270 15% 15%;
  --slate-800: 270 15% 10%;
  --slate-900: 270 15% 5%;

  /* Extended color palette - Gray scale (purple-tinted dark grays) */
  --gray-50: 270 10% 95%;
  --gray-100: 270 10% 90%;
  --gray-200: 270 10% 80%;
  --gray-300: 270 10% 65%;
  --gray-400: 270 10% 50%;
  --gray-500: 270 10% 35%;
  --gray-600: 270 10% 25%;
  --gray-700: 270 10% 15%;
  --gray-800: 270 10% 10%;
  --gray-900: 270 10% 5%;

  /* Semantic colors - Blue (purple-blue for consistency) */
  --blue-500: 260 70% 60%;
  --blue-600: 260 75% 55%;

  /* Semantic colors - Green (bright for visibility on dark) */
  --green-50: 270 10% 15%;
  --green-100: 270 10% 18%;
  --green-500: 142 65% 50%;
  --green-600: 142 70% 45%;
  --green-800: 142 75% 35%;

  /* Semantic colors - Red (bright for visibility) */
  --red-50: 270 10% 15%;
  --red-400: 0 75% 65%;
  --red-500: 0 70% 55%;
  --red-600: 0 75% 50%;

  /* Semantic colors - Yellow (bright for visibility) */
  --yellow-100: 270 10% 18%;
  --yellow-500: 45 90% 60%;

  /* Gradient colors - Pure black to dark purple-gray */
  --gradient-from: 270 20% 5%;       /* Near-black with purple tint */
  --gradient-to: 270 25% 15%;        /* Dark purple-gray */
}

* {
  border-color: hsl(var(--border));
}

body {
  background-color: hsl(var(--background));
  color: hsl(var(--foreground));
}

/* 
 * Theme transition styles
 * Optimized for performance using GPU-accelerated properties
 * Duration: 200ms (fast enough to feel responsive, slow enough to be smooth)
 */
html.theme-transitioning,
html.theme-transitioning *,
html.theme-transitioning *::before,
html.theme-transitioning *::after {
  transition: background-color 200ms ease-in-out,
              color 200ms ease-in-out,
              border-color 200ms ease-in-out !important;
  transition-delay: 0ms !important;
  /* Use will-change sparingly to hint browser about upcoming changes */
  will-change: background-color, color, border-color;
}

/* Remove will-change after transition completes to free resources */
html:not(.theme-transitioning) * {
  will-change: auto;
}

/* Disable transitions on initial load to prevent flash of unstyled content */
html.no-transitions,
html.no-transitions *,
html.no-transitions *::before,
html.no-transitions *::after {
  transition: none !important;
}

/* Respect user's motion preferences */
@media (prefers-reduced-motion: reduce) {
  html.theme-transitioning,
  html.theme-transitioning *,
  html.theme-transitioning *::before,
  html.theme-transitioning *::after {
    transition: none !important;
  }
}

/* Theme-aware gradient utilities */
.bg-gradient-theme {
  background: linear-gradient(to bottom right, hsl(var(--gradient-from)), hsl(var(--gradient-to)));
}

.bg-gradient-theme-vertical {
  background: linear-gradient(to bottom, hsl(var(--gradient-from)), hsl(var(--gradient-to)));
}

.bg-gradient-theme-horizontal {
  background: linear-gradient(to right, hsl(var(--gradient-from)), hsl(var(--gradient-to)));
}

/* Theme-aware overlay utilities */
.overlay-dark {
  background-color: hsl(var(--background) / 0.8);
}

.overlay-light {
  background-color: hsl(var(--foreground) / 0.1);
}

/* Theme-aware shadow utilities */
.shadow-theme {
  box-shadow: 8px 8px 0px 0px hsl(var(--border));
}

.shadow-theme-sm {
  box-shadow: 4px 4px 0px 0px hsl(var(--border));
}

.shadow-theme-lg {
  box-shadow: 12px 12px 0px 0px hsl(var(--border));
}

/*
 * Halloween Theme Decorative Elements
 * Elegant, subtle background decorations that enhance the spooky atmosphere
 */

/* Floating purple particles/stars */
.halloween body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
  background-image:
    radial-gradient(2px 2px at 20% 30%, hsl(270 70% 60% / 0.3), transparent),
    radial-gradient(2px 2px at 60% 70%, hsl(270 70% 60% / 0.2), transparent),
    radial-gradient(1px 1px at 50% 50%, hsl(270 70% 60% / 0.3), transparent),
    radial-gradient(1px 1px at 80% 10%, hsl(270 70% 60% / 0.25), transparent),
    radial-gradient(2px 2px at 90% 60%, hsl(270 70% 60% / 0.2), transparent),
    radial-gradient(1px 1px at 33% 80%, hsl(270 70% 60% / 0.3), transparent),
    radial-gradient(1px 1px at 15% 90%, hsl(270 70% 60% / 0.25), transparent);
  background-size: 200% 200%;
  background-position: 0% 0%;
  animation: floatingParticles 60s ease-in-out infinite;
  opacity: 0.6;
}

/* Subtle corner web pattern - top right */
.halloween body::after {
  content: '';
  position: fixed;
  top: 0;
  right: 0;
  width: 300px;
  height: 300px;
  pointer-events: none;
  z-index: 1;
  background-image:
    linear-gradient(135deg, transparent 48%, hsl(270 40% 35% / 0.15) 48%, hsl(270 40% 35% / 0.15) 52%, transparent 52%),
    linear-gradient(45deg, transparent 48%, hsl(270 40% 35% / 0.1) 48%, hsl(270 40% 35% / 0.1) 52%, transparent 52%);
  background-size: 60px 60px;
  opacity: 0.4;
  mask-image: radial-gradient(ellipse at top right, black 20%, transparent 70%);
  -webkit-mask-image: radial-gradient(ellipse at top right, black 20%, transparent 70%);
}

/* Mystical stars/sparkles in bottom left corner */
.halloween main::before {
  content: '✦';
  position: fixed;
  bottom: 40px;
  left: 40px;
  font-size: 16px;
  color: hsl(270 70% 60% / 0.4);
  pointer-events: none;
  z-index: 1;
  animation: twinkle 3s ease-in-out infinite;
}

.halloween main::after {
  content: '✦';
  position: fixed;
  bottom: 80px;
  left: 80px;
  font-size: 12px;
  color: hsl(270 70% 60% / 0.3);
  pointer-events: none;
  z-index: 1;
  animation: twinkle 3s ease-in-out infinite 1.5s;
}

@keyframes twinkle {
  0%, 100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.2);
  }
}

/* Subtle glow effect on main content areas */
.halloween .bg-card {
  box-shadow:
    0 0 40px hsl(270 70% 60% / 0.05),
    0 0 80px hsl(270 70% 60% / 0.02);
}

/* Purple glow on primary elements */
.halloween .bg-primary {
  box-shadow:
    0 0 20px hsl(270 70% 60% / 0.3),
    0 0 40px hsl(270 70% 60% / 0.15);
}

/* Animated floating particles */
@keyframes floatingParticles {
  0%, 100% {
    background-position: 0% 0%, 100% 100%, 50% 50%, 80% 10%, 90% 60%, 33% 80%, 15% 90%;
    opacity: 0.6;
  }
  25% {
    background-position: 10% 20%, 90% 80%, 60% 40%, 70% 20%, 80% 70%, 43% 70%, 25% 80%;
    opacity: 0.4;
  }
  50% {
    background-position: 20% 40%, 80% 60%, 70% 30%, 60% 30%, 70% 80%, 53% 60%, 35% 70%;
    opacity: 0.5;
  }
  75% {
    background-position: 10% 60%, 90% 40%, 40% 60%, 90% 40%, 60% 90%, 23% 90%, 5% 80%;
    opacity: 0.4;
  }
}

/* Add subtle purple glow to borders */
.halloween .border-border {
  border-color: hsl(270 40% 35%);
  filter: drop-shadow(0 0 1px hsl(270 60% 50% / 0.3));
}

/* Ensure content appears above decorative elements */
.halloween main,
.halloween header,
.halloween [role="main"] {
  position: relative;
  z-index: 10;
}

/* Subtle purple vignette effect */
.halloween .min-h-screen {
  position: relative;
}

.halloween .min-h-screen > *:first-child::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 2;
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    transparent 50%,
    hsl(270 50% 10% / 0.3) 100%
  );
}
